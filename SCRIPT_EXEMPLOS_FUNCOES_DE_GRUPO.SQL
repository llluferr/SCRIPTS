-- FUNÇÕES DE GRUPO E AGRUPAMENTOS
-- ENVOLVEM A RECUPERAÇÃO DE UM CONJUNTO (GRRUPO) DE LINHAS
-- OU ATE A TABELA INTEIRA, COM OBJETIVO DE DAR ALGUM TIPO DE RESULTADO
 
-- FUNÇÕES DE GRUPO - ATUANDO A PARTIR DE TODAS AS LINHAS DA TABELA
-- EXEMPLO: CONTAGEM, SOMATORIA, MEDIA, VALOR MAXIMO, VALOR MINIMO, DESVIO PADRAO, VARIANCIA

-- COUNT() - CONTAGEM
-- RECUPERAR A QTDE DE DEPARTAMENTOS
SELECT COUNT(*) AS "QTDE DE DEPTOS: "
  FROM T_SIP_DEPARTAMENTO; 
-- CONTAGEM BASEADA EM TODAS AS COLUNAS DA TABELA

-- COUNT() - APONTANDO PARA UMA COLUNA ESPECIFICA
-- RECUPERANDO A QTDE DE PROJETOS FINALIZADOS
SELECT COUNT(DT_TERMINO) AS "QTDE PROJETOS FINALIZADOS: "
  FROM T_SIP_PROJETO;
-- CONTAGEM BASEADA APENAS NA COLUNA INFORMADA

-- COUNT() - COM CONDIÇÃO NA CLAUSULA WHERE
-- RECUPERANDO A QTDE DE PROJETOS NAO FINALIZADOS
SELECT COUNT(CD_PROJETO) -- CONTAGEM A PARTIR DE UMA COLUNA ESPECIFICA (PK)
  FROM T_SIP_PROJETO
 WHERE DT_TERMINO IS NULL; -- VALIDANDO PROJETOS NAO FINALIZADOS

-- COUNT() E DISTINCT
 --  QTDE TOTAL DE IMPLANTACOES
SELECT COUNT(CD_PROJETO) AS "QNTD DE IMPLANTACOES: "
  FROM T_SIP_IMPLANTACAO;
 
-- RECUPERAR A QTDE DE PROJETOS EM IMPLANTACAO
SELECT DISTINCT COUNT(CD_PROJETO) AS "QNTD DE PROJETOS EM IMPLANTACAO: " 
  FROM T_SIP_IMPLANTACAO;

-- RECUPERAR A QTDE IMPLANTACÕES QUE FORAM FINALIZADAS
SELECT COUNT(DT_SAIDA) AS "QNTD DE IMPLANTACOES FINALIZADAS: "
  FROM T_SIP_IMPLANTACAO;
-- IMPLANTACOES FINALIZADAS
-- IMPLANTACAO FINALIZADA POSSUI DATA DA SAIDA PREENCHIDA

-- QUANTOS PROJETOS POSSUEM IMPLANTACOES FINALIZADAS
SELECT COUNT(DISTINCT CD_PROJETO) AS "PROJETOS COM IMPLANTACOES FINALIZADAS: "
  FROM T_SIP_IMPLANTACAO 
 WHERE DT_SAIDA IS NOT NULL;

 -- SUM() - SOMATORIA
-- RECUPERAR A SOMATORIA DE SALARIOS (DE TODA EMPRESA)
SELECT SUM(VL_SALARIO_MENSAL)
  FROM T_SIP_FUNCIONARIO;  

-- AVG() - MEDIA
-- RECUPERAR A MEDIA DOS SALARIOS DE TODA EMPRESA
SELECT AVG(VL_SALARIO_MENSAL)
  FROM T_SIP_FUNCIONARIO;

SELECT ROUND(AVG(VL_SALARIO_MENSAL, 2))
  FROM T_SIP_FUNCIONARIO;

-- ASSOCIANDO...SEM USAR AVG() -- SOMATORIA/QTDE
SELECT ROUND(SUM(VL_SALARIO_MENSAL) / COUNT(NR_MATRICULA), 2)

-- MIN() - MENOR VALOR
-- RECUPERAR O MENOR SALARIO DE TODA EMPRESA
SELECT MIN(VL_SALARIO_MENSAL)
  FROM T_SIP_FUNCIONARIO;

-- MAX() - MAIOR VALOR  
-- RECUPERAR O MAIOR SALARIO DE TODA EMPRESA
SELECT MAX(VL_SALARIO_MENSAL)
  FROM T_SIP_FUNCIONARIO;